<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="asher.demo.mapper.StockDataMapper">
	
	<!-- INSERT Alpha Vantage API - Meta Data -->
	<insert id="insertMetaData" parameterType="map">
		INSERT INTO META_DATA_TB (
									SYMBOL
								  , INFORMATION
								  , LAST_REFRESHED
								  , TIME_FRAME
								  , OUTPUT_SIZE
								  , TIME_ZONE
								  , REG_DATE
								) VALUES (
									#{Symbol}
								  , #{Information}
								  , TO_DATE(#{Last Refreshed}, 'YYYY-MM-DD HH24:MI:SS')
								  , #{Interval}
								  , #{Output Size}
								  , #{Time Zone}
								  , TO_DATE(#{REG_DATE}, 'YYYY-MM-DD HH24:MI:SS')
								)
	</insert>
	
	<!-- INSERT Alpha Vantage API - Time Series -->
	<insert id="insertStockData" parameterType="map">
		INSERT INTO STOCK_DATA_TB (
									STOCK_TIME
								  , SYMBOL
								  , OPEN_PRICE
								  , HIGH_PRICE
								  , LOW_PRICE
								  , CLOSE_PRICE
								  , VOLUME
								) VALUES(
									#{STOCK_TIME}
								  , #{Symbol}
								  , #{open}
								  , #{high}
								  , #{low}
								  , #{close}
								  , #{volume}
								)
	</insert>
</mapper>
